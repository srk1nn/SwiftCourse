{"sections":[],"primaryContentSections":[{"kind":"content","content":[{"text":"Опциональный тип в Swift","anchor":"Опциональный-тип-в-Swift","type":"heading","level":2},{"inlineContent":[{"type":"text","text":"Опциональный тип в Swift используется для обозначения переменной, которая может содержать значение или быть nil (отсутствие значения). Чтобы объявить переменную как опциональную, необходимо добавить знак вопроса "},{"code":"?","type":"codeVoice"},{"text":" после типа данных","type":"text"}],"type":"paragraph"},{"code":["var username: String? \/\/ username может содержать или строку, или nil","username = \"Igor\" \/\/ присваиваем переменной значение","username = nil \/\/ обнуляем значение"],"type":"codeListing","syntax":"swift"},{"text":"Проверка наличия значения","type":"heading","level":3,"anchor":"Проверка-наличия-значения"},{"inlineContent":[{"type":"text","text":"Проверить наличие значения можно через операторы сравнения"}],"type":"paragraph"},{"type":"codeListing","code":["\/\/ Отсутствует ли значение?","let usernameMissing = username == nil","\/\/ Есть ли значение?","let hasUsername = username != nil",""],"syntax":"swift"},{"anchor":"if-let-binding","level":3,"type":"heading","text":"if let binding"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Перед использованием опциональной переменной необходимо извлечь ее значение. Это можно сделать с помощью конструкции "},{"type":"codeVoice","code":"if let"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["if let unwrappedUsername = username {","    print(unwrappedUsername)","}","","\/\/ Иногда удобнее назвать новую переменную также, как и существующую","if let username = username { ... }","","\/\/ В новых версиях Swift можно писать так. Это равноценно записи выше","if let username { ... }",""]},{"text":"Принудительное разворачивание. Force unwrapping","type":"heading","anchor":"Принудительное-разворачивание-Force-unwrapping","level":3},{"type":"paragraph","inlineContent":[{"type":"text","text":"Опциональную переменная можно принудительно развернуть с помощью "},{"type":"codeVoice","code":"!"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"⚠️ Однако это может привести к ошибке, если значение отсутствует. По этой причине этот оператор часто запрещают использовать в проектах. Об этом же пишет и ","type":"text"},{"type":"reference","identifier":"https:\/\/habr.com\/ru\/companies\/sberbank\/articles\/340736\/","isActive":true},{"text":" (см 2. Bang Operator! Как круто звучит, то что надо для опционала!)","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let unwrappedUsername = username!"]},{"level":3,"anchor":"Опциональная-привязка-Nil-coalescing-оператор","text":"Опциональная привязка. Nil-coalescing оператор","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Опциональную переменные можно развернуть, задав ей значение по умолчанию. Это значение будет использоваться, если в опциональной переменной содержится nil.","type":"text"}]},{"code":["let unwrappedUsername = username ?? \"Значение по умолчанию\""],"syntax":"swift","type":"codeListing"},{"level":2,"text":"Преобразование типов","anchor":"Преобразование-типов","type":"heading"},{"type":"paragraph","inlineContent":[{"text":"В Swift язык со статической типизацией и строгой проверкой типов. Поэтому он требует явного преобразования типов для предотвращения ошибок, связанных с неожиданными потерями данных или округлением.","type":"text"}]},{"inlineContent":[{"text":"Для преобразования примитивных типов достаточно написать тип, в который нужно преобразовать, а в круглых скобках указать переменную, которую нужно преобразовать.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Преобразование примитивных типов в Int","type":"text"}]}]},{"inlineContent":[{"text":"Для удобства справа написаны тип и значение, которые получаются на выходе","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["Int(23.5)     \/\/ Int: 23","Int(\"123\")    \/\/ Int?: 123","Int(\"привет\") \/\/ Int?: nil","Int(true)     \/\/ Int: 1","Int(false)    \/\/ Int: 2"]},{"inlineContent":[{"type":"text","text":"Аналогично будет работать и преобразование в Float и Double."}],"type":"paragraph"},{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Преобразование примитивных типов в String","type":"text"}]}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["String(23)             \/\/ String: \"23\"","String(123.5)          \/\/ String: \"123.5\" ","String(Character(\"a\")) \/\/ String: \"a\"","String(true)           \/\/ String: \"true\"","String(false)          \/\/ String: \"false\""]},{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"Преобразование примитивных типов в Bool","type":"text"}]}]},{"type":"codeListing","code":["Bool(0)      \/\/ Bool: false","Bool(1)      \/\/ Bool: true","Bool(123.5)  \/\/ Bool: true","Bool(\"true\") \/\/ Bool?: true","Bool(\"1\")    \/\/ Bool?: nil"],"syntax":"swift"}]}],"variants":[{"paths":["\/documentation\/swiftcourse\/4-optionals"],"traits":[{"interfaceLanguage":"swift"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"kind":"article","metadata":{"roleHeading":"Article","role":"article","title":"[Конспект] 4. Опциональный тип. Преобразование примитивных типов","modules":[{"name":"SwiftCourse"}]},"identifier":{"url":"doc:\/\/SwiftCourse\/documentation\/SwiftCourse\/4-optionals","interfaceLanguage":"swift"},"hierarchy":{"paths":[["doc:\/\/SwiftCourse\/documentation\/SwiftCourse"]]},"references":{"doc://SwiftCourse/documentation/SwiftCourse":{"title":"SwiftCourse","url":"\/documentation\/swiftcourse","identifier":"doc:\/\/SwiftCourse\/documentation\/SwiftCourse","type":"topic","kind":"symbol","abstract":[{"type":"text","text":"Этот репозиторий является сборником задач по языку Swift"}],"role":"collection"},"https://habr.com/ru/companies/sberbank/articles/340736/":{"identifier":"https:\/\/habr.com\/ru\/companies\/sberbank\/articles\/340736\/","type":"link","title":"Сбер в своей статье на хабре","titleInlineContent":[{"text":"Сбер в своей статье на хабре","type":"text"}],"url":"https:\/\/habr.com\/ru\/companies\/sberbank\/articles\/340736\/"}}}